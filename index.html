<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>WAV_V1 ‚Äî Watcher AI Vertical</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root { color-scheme: dark; }
  html,body { margin:0; background:#05070c; overflow:hidden; font-family:monospace; }
  canvas { display:block; margin:auto; background:#05070c; touch-action:none; }
  #controls { position:fixed; left:50%; transform:translateX(-50%); top:420px; display:flex; gap:10px }
  .btn { border:2px solid #25f3ff; color:#25f3ff; background:transparent; border-radius:12px; padding:8px 14px; box-shadow:0 0 12px #25f3ff80; font-family:inherit }
  #start { position:fixed; inset:0; display:grid; place-items:center; background:#000a; backdrop-filter: blur(2px); }
  #start .card { text-align:center; color:#bffcff }
  #start h1 { margin:0 0 8px; color:#ff59d1; text-shadow:0 0 16px #ff59d1, 0 0 8px #25f3ff; }
  #start button { margin-top:16px }
</style>
</head>
<body>
  <canvas id="c" width="800" height="600"></canvas>

  <!-- simple mobile buttons (optional) -->
  <div id="controls">
    <button class="btn" id="left">‚¨ÖÔ∏é</button>
    <button class="btn" id="fire">‚ö° Fire</button>
    <button class="btn" id="right">‚û°Ô∏é</button>
    <button class="btn" id="pause">‚è∏</button>
  </div>

  <!-- Start overlay -->
  <div id="start">
    <div class="card">
      <h1>WAV_V1</h1>
      <div>Watcher_Ai_Vertical ‚Äî Blade Digital</div>
      <pre style="color:#25f3ff">
        .-^-.   Neon Space Cruiser
       /_=_=\   (you)
       \-_-_/   ‚ü∞ fly up, blast through
      </pre>
      <div>Move: ‚Üê ‚Üí or A D ‚Ä¢ Fire: Space/Enter ‚Ä¢ Pause: P</div>
      <button class="btn" id="startBtn">‚ñ∂ Start</button>
    </div>
  </div>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');

// ---------- Game State ----------
let running = false, paused = false, score = 0;
const W = canvas.width, H = canvas.height;

// Background grid
const grid = { y: 0, speed: 2 };

// Player (neon space cruiser)
const ship = {
  x: W/2, y: H*0.8, w: 26, h: 28,
  vx: 0, ax: 0, maxV: 6, accel: 0.9, friction: 0.88,
};

// Bullets
const shots = [];
function fire() {
  // cooldown lite
  const now = performance.now();
  if (fire.last && now - fire.last < 140) return;
  fire.last = now;
  shots.push({ x: ship.x, y: ship.y - ship.h/2, vy: -10 });
}

// ---------- Input ----------
const keys = {};
window.addEventListener('keydown', (e) => {
  keys[e.key.toLowerCase()] = true;
  if (e.key === ' ' || e.key === 'Enter') fire();
  if (e.key.toLowerCase() === 'p') togglePause();
});
window.addEventListener('keyup', (e) => { keys[e.key.toLowerCase()] = false; });

document.getElementById('left').onclick  = () => { ship.ax = -ship.accel; setTimeout(()=>ship.ax=0, 90); };
document.getElementById('right').onclick = () => { ship.ax =  ship.accel; setTimeout(()=>ship.ax=0, 90); };
document.getElementById('fire').onclick  = fire;
document.getElementById('pause').onclick = () => togglePause();
document.getElementById('startBtn').onclick = () => { document.getElementById('start').style.display='none'; startGame(); };

function togglePause(){
  if (!running) return;
  paused = !paused;
  if (!paused) requestAnimationFrame(loop);
}

// ---------- Update ----------
function update(){
  // Input -> acceleration
  ship.ax = 0;
  if (keys['arrowleft'] || keys['a']) ship.ax -= ship.accel;
  if (keys['arrowright']|| keys['d']) ship.ax += ship.accel;

  // Integrate velocity with friction
  ship.vx += ship.ax;
  ship.vx *= ship.friction;
  ship.vx = Math.max(-ship.maxV, Math.min(ship.maxV, ship.vx));
  ship.x += ship.vx;

  // Clamp to screen
  const pad = 20;
  ship.x = Math.max(pad, Math.min(W - pad, ship.x));

  // Shots
  for (let i = shots.length-1; i >= 0; i--) {
    const s = shots[i];
    s.y += s.vy;
    if (s.y < -20) shots.splice(i,1);
  }

  // Grid scroll
  grid.y += grid.speed;
  if (grid.y >= 40) grid.y = 0;

  // Score ticks up
  score += 0.1;
}

// ---------- Draw ----------
function glowRect(x,y,w,h,fill,shadow){
  ctx.save();
  ctx.shadowBlur = shadow;
  ctx.shadowColor = fill;
  ctx.fillStyle = fill;
  ctx.fillRect(x,y,w,h);
  ctx.restore();
}

function drawGrid(){
  ctx.save();
  ctx.globalAlpha = 0.55;
  ctx.strokeStyle = '#12243a';
  ctx.lineWidth = 2;

  // vertical lanes
  for (let x = 0; x <= W; x += 40) {
    ctx.beginPath();
    ctx.moveTo(x, 0);
    ctx.lineTo(x, H);
    ctx.stroke();
  }
  // horizontal glowing lines scrolling down
  ctx.strokeStyle = '#1be1ff';
  ctx.shadowBlur = 12;
  ctx.shadowColor = '#1be1ff';
  for (let y = grid.y; y < H; y += 40) {
    ctx.beginPath();
    ctx.moveTo(0, y);
    ctx.lineTo(W, y);
    ctx.stroke();
  }
  ctx.restore();

  // faint Blade flame glyph behind
  ctx.save();
  ctx.globalAlpha = 0.12;
  ctx.font = '120px monospace';
  ctx.textAlign = 'center';
  ctx.shadowBlur = 36;
  ctx.shadowColor = '#ff59d1';
  ctx.fillStyle = '#ff59d1';
  ctx.fillText('üî•', W/2, H*0.45);
  ctx.restore();
}

function drawShip(){
  // central body (cyan)
  glowRect(ship.x-6, ship.y-14, 12, 28, '#25f3ff', 18);
  // wings (magenta)
  glowRect(ship.x-18, ship.y-4, 12, 6, '#ff59d1', 12);
  glowRect(ship.x+6,  ship.y-4, 12, 6, '#ff59d1', 12);
  // cockpit (orange)
  glowRect(ship.x-3, ship.y-10, 6, 10, '#ffa133', 8);
  // exhaust sparks
  ctx.save();
  ctx.fillStyle = '#ffa133'; ctx.shadowBlur=14; ctx.shadowColor='#ffa133';
  ctx.fillRect(ship.x-2, ship.y+16, 4, 8);
  ctx.globalAlpha = 0.7;
  ctx.fillRect(ship.x-1, ship.y+24, 2, 6);
  ctx.restore();
}

function drawShots(){
  ctx.save();
  ctx.fillStyle = '#b6f7ff';
  ctx.shadowBlur = 16;
  ctx.shadowColor = '#b6f7ff';
  shots.forEach(s => {
    ctx.fillRect(s.x-2, s.y-8, 4, 12);
  });
  ctx.restore();
}

function drawHUD(){
  ctx.save();
  ctx.fillStyle = '#cfefff';
  ctx.font = '14px monospace';
  ctx.fillText('Score: ' + Math.floor(score), 12, 20);
  ctx.restore();
}

// ---------- Loop ----------
let last = 0;
function loop(ts){
  if (!running || paused) return;
  const dt = ts - last; last = ts;

  update(dt);
  ctx.clearRect(0,0,W,H);
  drawGrid();
  drawShip();
  drawShots();
  drawHUD();

  requestAnimationFrame(loop);
}

function startGame(){
  running = true; paused = false; score = 0;
  shots.length = 0;
  ship.x = W/2; ship.vx = 0;
  last = performance.now();
  requestAnimationFrame(loop);
}
</script>
</body>
</html>
